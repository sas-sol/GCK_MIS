@model IEnumerable<MeherEstateDevelopers.Models.Sp_Get_InventoryItem_PR_PO_GRN_Report_Result>
<style>
    table thead tr th, table tbody tr td {
        font-size: 12px;
    }
</style>
<table id="pr-list" class="table table-striped table-bordered " cellspacing="0" width="100%" style="margin-left:0%">
    <thead class="thead-dark">
        <tr>
            <th>Sr.</th>
            <th>Item Code</th>
            <th>Description</th>
            <th>Qty</th>
            <th>PR NO</th>
            <th>PR Date</th>
            <th>PO NO</th>
            <th>PO Date</th>
            <th>GRN NO</th>
            <th>GRN Date</th>
        </tr>
    </thead>
    <tbody>
        @{
            if (Model.Any())
            {
                int i = 1;
                foreach (var G in Model.GroupBy(x => x.Item_Name).ToList())
                {
                    <tr><td colspan="5"></td><td><h3>@G.Key</h3></td><td colspan="4"></td></tr>
                    foreach (var item in G)
                    {
                        <tr id="">
                            <td>@i</td>
                            <td>@item.SKU</td>
                            <td>@item.Item_Name</td>
                            <td>@item.Qty</td>
                            <td>@item.Requisition_No</td>
                            @if (item.PR_Date == null)
                            {
                                <td></td>
                            }
                            else
                            {
                                <td>@item.PR_Date.Value.ToShortDateString()</td>
                            }
                            <td>@item.PO_Number</td>
                            @if (item.PO_Date == null)
                            {
                                <td></td>
                            }
                            else
                            {
                                <td>@item.PO_Date.Value.ToShortDateString()</td>

                            }
                            <td>@item.GRN</td>
                            @if (item.GRNDate == null)
                            {
                                <td></td>
                            }
                            else
                            {
                                <td>@item.GRNDate.Value.ToShortDateString()</td>

                            }
                        </tr>
                        i++;
                    }
                }
            }
        }
    </tbody>
</table>

<script>

    $(document).ready(function () {
        $('#pr-list').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'excel', 'pdf', 'print'
            ]
        });
    });
</script>

<style>
    tr.group,
    tr.group:hover {
        background-color: #ddd !important;
    }
</style>

