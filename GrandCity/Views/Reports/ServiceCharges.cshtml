@model MeherEstateDevelopers.Models.ServiceChargesDetails
<style>
    table tr td, table tr th {
        padding: 5px !important;
        font-size: 13px
    }
</style>

@* ........ *@

<div class="form-row">
    <div class='col-md-3'>
        <div class="layers bd bgc-white p-10 mt-2" style="text-align:center">
            <div class="layer w-100" style="border-bottom:1px solid #ccc">
                @if (ViewBag.Block != null)
                {
                    <h5 class="lh-1">@ViewBag.Block Block</h5>
                }
                else
                {
                    <h5 class="lh-1">@ViewBag.meherestatedevelopers</h5>
                }

            </div>
            <div class="layer w-100 row p-5">
                <div class="col-md-6">
                    <h6 class="lh-1">Receiveable</h6>
                </div>
                <div class="col-md-6">
                    <h6 class="lh-1">Received</h6>
                </div>
            </div>
            <div class="layer w-100 row p-5">
                <div class="col-md-6">
                    <h6 class="lh-1">@string.Format("{0:n0}", Model.Receiable)</h6>
                </div>
                <div class="col-md-6">
                    <h6 class="lh-1">@string.Format("{0:n0}", Model.Received)</h6>
                </div>
            </div>
        </div>
    </div>
    <div class='col-md-5'>
        <div class="layers bd bgc-white p-10 mt-2" style="text-align:center">
            <div class="layer w-100" style="border-bottom:1px solid #ccc">
                <h5 class="lh-1">Residential </h5>
            </div>
            <div class="layer w-100 row p-5">
                <div class="col-md-6">
                    <h6 class="lh-1">Receiveable</h6>
                </div>
                <div class="col-md-6">
                    <h6 class="lh-1">Received</h6>
                </div>
            </div>
            <div class="layer w-100 row p-5">
                <div class="col-md-6">
                    <h6 class="lh-1">@string.Format("{0:n0}", Model.Resi_Receiable)</h6>
                </div>
                <div class="col-md-6">
                    <h6 class="lh-1">@string.Format("{0:n0}", Model.Resi_Received)</h6>
                </div>
            </div>
        </div>
    </div>
    <div class='col-md-3'>
        <div class="layers bd bgc-white p-10 mt-2" style="text-align:center">
            <div class="layer w-100" style="border-bottom:1px solid #ccc">
                <h5 class="lh-1">Commercial </h5>
            </div>
            <div class="layer w-100 row p-5">
                <div class="col-md-6">
                    <h6 class="lh-1">Receiveable</h6>
                </div>
                <div class="col-md-6">
                    <h6 class="lh-1">Received</h6>
                </div>
            </div>
            <div class="layer w-100 row p-5">
                <div class="col-md-6">
                    <h6 class="lh-1">@string.Format("{0:n0}", Model.Com_Receiable)</h6>
                </div>
                <div class="col-md-6">
                    <h6 class="lh-1">@string.Format("{0:n0}", Model.Com_Received)</h6>
                </div>
            </div>
        </div>
    </div>

</div>
<hr />
<div class="form-row">
    <div class="col-md-6">
        <h5>Residential</h5>
        <div style="max-height:700px;" class=" ps--active-y">
            <table  class="table table-striped table-bordered residential" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th width="80" align="center" class="col-date">Plot No</th>
                        <th width="100" class="col-name">Block</th>
                        <th width="100" class="col-name">Name</th>
                        <th width="120" class="col-rece">Amount</th>
                        <th width="120" class="col-rece">Arrears</th>
                        <th width="120" class="col-rece">Grand Total</th>
                        <th width="120" class="col-rece">Amount Paid</th>
                        <th width="120" class="col-rece">Remaining</th>
                        <th width="120" class="col-rece">Date</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        if (Model.ServiceChargesList.Where(x => x.Type == "Residential").Any())
                        {
                            foreach (var item in Model.ServiceChargesList.Where(x => x.Type == "Residential"))
                            {
                                <tr class="pointer plt-bl-det1" @*data-id="@item.Plot_Id" id="@item.Id"*@>
                                    <td align="center" class="col-mod">@item.Plot_No</td>
                                    <td class="col-type">@item.Block</td>
                                    <td class="col-type">@item.Name</td>
                                    <td class="pre-read">@item.Amount</td>
                                    <td class="pre-read">@item.Arrears</td>
                                    <td class="pre-read">@item.Grand_Total</td>
                                    <td class="pre-read">@item.Amount_Paid</td>
                                    <td class="pre-read">@item.Remaining</td>
                                    <td class="pre-read">@string.Format("{0:MMM yyy}", item.Date)</td>
                                </tr>
                            }


                        }
                        else
                        {
                            <tr><td colspan="9"> No Bills </td></tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-md-6">
        <h5>Commercial</h5>
        <div style="max-height:700px" class=" ps--active-y">
            <table class="table table-striped table-bordered commercial" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th width="80" align="center" class="col-date">Plot No</th>
                        <th width="100" class="col-name">Block</th>
                        <th width="100" class="col-name">Name</th>
                        <th width="120" class="col-rece">Amount</th>
                        <th width="120" class="col-rece">Arrears</th>
                        <th width="120" class="col-rece">Grand Total</th>
                        <th width="120" class="col-rece">Amount Paid</th>
                        <th width="120" class="col-rece">Remaining</th>
                        <th width="120" class="col-rece">Date</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        if (Model.ServiceChargesList.Where(x => x.Type == "Commercial").Any())
                        {

                            foreach (var item in Model.ServiceChargesList.Where(x => x.Type == "Commercial"))
                            {
                                <tr class="pointer plt-bl-det1" @*data-id="@item.Plot_Id" id="@item.Id"*@>
                                    <td align="center" class="col-mod">@item.Plot_No</td>
                                    <td class="col-type">@item.Block</td>
                                    <td class="col-type">@item.Name</td>
                                    <td class="pre-read">@item.Amount</td>
                                    <td class="pre-read">@item.Arrears</td>
                                    <td class="pre-read">@item.Grand_Total</td>
                                    <td class="pre-read">@item.Amount_Paid</td>
                                    <td class="pre-read">@item.Remaining</td>
                                    <td class="pre-read">@string.Format("{0:MMM yyy}", item.Date)</td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr><td colspan="9">No Bills</td></tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.commercial').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        });
        $('.residential').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        });
    });
</script>
@if (User.IsInRole("Regenerate SC Bill"))
{
    <script>

        function CheckRole() {
            $(".plt-cur-bil").show();
        }
    </script>
}
else
{
    <script>
        function CheckRole() {
            $(".plt-cur-bil").hide();
        }
    </script>
}


