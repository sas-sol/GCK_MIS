@model IEnumerable<MeherEstateDevelopers.Models.Sp_Get_Salaries_Delivery_Result>
<div class="bgc-white bd bdrs-3 p-10 mB-20">
    @if (Model.Any())
    {
        foreach (var g in Model.OrderBy(x=> x.Received_Date).GroupBy(x => x.Received_Date))
        {
            <h5>@string.Format("{0: dd-MMM}", g.Key)</h5>
            <div style="display:flex">
                @foreach (var gg in g.GroupBy(x => x.DeliveredBy))
                {
                    int sr = 1;
                <table class="table table-bordered" style="width:30%;margin-right:10px">
                    <tr><th colspan="6">@gg.Key</th></tr>
                    <tr>
                        <th></th>
                        <th>Employee Name</th>
                        <th>Grand Total</th>
                        <th>Cash</th>
                        <th>Bank</th>
                        <th></th>
                    </tr>
                    @foreach (var item in gg)
                    {
                        <tr>
                            <td>@sr</td>
                            <td>@item.Employee_Name</td>
                            <td>@string.Format("{0:n0}", Math.Round(Convert.ToDouble(item.Grand_total))) </td>
                            <td>@string.Format("{0:n0}", Math.Round(Convert.ToDouble(item.Cash))) </td>
                            <td>@string.Format("{0:n0}", Math.Round(Convert.ToDouble(item.Bank))) </td>
                            <td>  <a href="#" class="ti-eye" onClick="window.open('/Salaries/PaySlipViewDistribution?SalariesId=@item.Id', '_blank')"></a></td>
                        </tr>
                        sr++;
                    }
                    <tr><th></th><th></th><th>@string.Format("{0:n0}", Math.Round(Convert.ToDouble(gg.Sum(x => x.Grand_total))))</th><th>@string.Format("{0:n0}", Math.Round(Convert.ToDouble(gg.Sum(x => x.Cash))))</th><th>@string.Format("{0:n0}", Math.Round(Convert.ToDouble(gg.Sum(x => x.Bank))))</th><th></th></tr>
                </table>
                }
            </div>
            <hr />
        }
    }

</div>