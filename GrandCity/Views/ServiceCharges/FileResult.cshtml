@model MeherEstateDevelopers.Models.Sp_Get_FileFormData_Result
@if (Model != null)
{
    using (Html.BeginForm("PayFineCharges", "ServiceCharges", FormMethod.Post, new { @id = "pay-fin-char", @class = "", role = "form", autocomplete = "off" }))
    {
        @Html.AntiForgeryToken()
        <input type="hidden" id="trans-id" name="TransactionId" value="@ViewBag.TransactionId" />
        <input type="hidden" value="@Model.FileFormNumber" name="PlotId" />
        <input type="hidden" value="FileManagement" name="Module" />
        <div class="bgc-white p-20 bd">
            <div class="mT-30">
                <div class="form-row row">
                    <div class="col-md-12">
                        <div class="form-row">
                            <div class="form-group col-md-1">
                                <label>File No.</label>
                                <h5 id="plt-no">@Model.FileFormNumber</h5>
                            </div>
                            <div class="form-group col-md-1">
                                <label>Block</label>
                                <h5 id="plt-blk">
                                    Sher Afghan
                                </h5>
                            </div>
                            <div class="form-group col-md-2">
                                <label>Size</label>
                                <h5 id="plt-size">@Model.Plot_Size</h5>
                            </div>
                            <div class="form-group col-md-3">
                                <label>Name</label>
                                <h5 id="nam">@Model.Name</h5>
                            </div>
                            <div class="form-group col-md-3">
                                <label>Father Name</label>
                                <h5 id="nam">@Model.Father_Husband</h5>
                            </div>
                        </div>
                        <hr />
                        <div class="form-row">
                            <div class="form-group col-md-2">
                                <label>Type</label>
                                <select class="form-control rec-type" name="Type">
                                    <option value="Fines_And_Penalties">Fine & Penalties</option>
                                    <option value="Other_Recovery">Other Recovery</option>
                                    <option value="Duplicate_AllotmentLetter">Duplicate Allotment Letter</option>
                                    <option value="Duplicate_Customer_File">Duplicate Customer File</option>
                                    <option value="Out_Station_Charges">Out Station Charges</option>
                                    <option value="Power_Of_Attorney">Power of Attorney</option>
                                </select>
                            </div>
                            <div class="form-group col-md-2">
                                <label>Amount</label>
                                <input class="form-control coma" placeholder="12,345" required>
                                <input type="hidden" id="amt" name="Amount" class="amt" required>
                            </div>
                            <div class="form-group col-md-4">
                                <label>Description</label>
                                <textarea class="form-control" name="Remarks" id="desc"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <button class="btn btn-info" type="submit" id="pay-fin-char-btn">Generate Receipt</button>
                        </div>
                    </div>

                </div>
            </div>
            <hr />

        </div>
    }
}
else
{
    <div class="bgc-white p-20 bd">
        <h5 class="c-grey-900">No Record Found</h5>
    </div>
}
<script>
    $(document).on("change", ".rec-type", function () {
        var val = $(this).val();
        if (val == "Fines_Penalities" || val == "Out_Station_Charges") {
            $(".amt , .coma ").removeAttr("readonly");
            $(".amt , .coma ").val('');
        }
        else if (val == "Power_Of_Attorney") {
            $(".coma").val("5,000");
            $(".amt").val(5000);
            $(".amt , .coma ").attr("readonly", "true")
        }
        else if (val == "Duplicate_AllotmentLetter") {
            var v = $("#plt-size").text();
            var size = v.split(' ')[0];
            i
            var amount = size * 3000;
            $(".coma").val(Number(amount).toLocaleString());
            $(".amt").val(amount);
            $(".amt , .coma ").attr("readonly", "true")
        }
        else if (val == "Duplicate_Customer_File") {
            var v = $("#plt-size").text();
            var size = v.split(' ')[0];
            var amount = size * 500;
            $(".coma").val(Number(amount).toLocaleString());
            $(".amt").val(amount);
            $(".amt , .coma ").attr("readonly", "true")
        }
    });
</script>

